from io import BytesIO
from PyPDF2 import PdfReader
from docx import Document

def extract_text(file):
    if file.type == "application/pdf":
        reader = PdfReader(file)
        text = ""
        for page in reader.pages:
            text += page.extract_text() + " "
        return text
    elif file.type == "application/vnd.openxmlformats-officedocument.wordprocessingml.document":
        doc = Document(file)
        return " ".join([p.text for p in doc.paragraphs])
    elif file.type == "text/plain":
        return str(file.read(), "utf-8")
    else:
        return ""

